(this["webpackJsonppoint-distribution"]=this["webpackJsonppoint-distribution"]||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),s=n(17),r=n.n(s),o=(n(38),n(10)),l=n(11),c=n(13),h=n(12),d=(n(39),n(29),n(2)),u=function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(d.jsx)("header",{className:"default-header",children:Object(d.jsx)("nav",{className:"navbar",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsx)("a",{className:"portfolio-link",href:"http://www.tom.ille-web.de",children:"Back to Portfolio"})})})})}}]),n}(i.Component),m=(n(41),function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.subtitle;return Object(d.jsxs)("div",{className:"default-algorithm-title col-12 p-3",children:[Object(d.jsx)("h1",{children:t}),Object(d.jsx)("h3",{children:n})]})}}]),n}(i.Component)),p=n(68),v=n(67),g=(n(42),function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={algTitle:"Fully Random Scatter",algDesc:"The points are randomly scattered across the image. The scatter is very uneven. There are large clumps of points and areas of very low point density.",link:"",link_title:""},e}return Object(l.a)(n,[{key:"updateAlgorithmDescription",value:function(e){var t=[{title:"Fully Random Scatter",description:"The points are randomly scattered across the image. The scatter is very uneven. There are large clumps of points and areas of very low point density."},{title:"Randomized Grid",description:"My Custom Algorithm. The image is discretized into a uniform grid. One point gets randomly placed within each cell. This scatter is overall much more even than the random scatter. Points can still be generated close together in clumps of up to four points."},{title:"Poisson-Disc",link:"https://www.jasondavies.com/poisson-disc/",link_title:"Based on Jason Davies' implementation",description:"Poisson-Disc ensures a minimal distance between each point. Whenever a new point is considered, it is checked against its neighbours to ensure the minimal distance. To reduce the computational cost a grid is used in the background. New points then have to only be checked against close grid cells. This method produces a very even scatter without any clumps."}];e>=t.length||this.setState({algTitle:t[e].title,algDesc:t[e].description,link:t[e].link,link_title:t[e].link_title})}},{key:"render",value:function(){var e,t=this;return this.state.link&&this.state.link_title&&(e=Object(d.jsx)("div",{className:"algorithm-link",children:Object(d.jsx)("a",{href:this.state.link,target:"_blank",rel:"noreferrer",children:this.state.link_title})})),Object(d.jsxs)("div",{className:"alg-menu",children:[Object(d.jsx)("h2",{id:"settings-heading",children:"Settings"}),Object(d.jsx)("hr",{className:"settings-menu"}),Object(d.jsxs)("div",{className:"settings-slider",children:[Object(d.jsx)("h4",{children:"Map Size"}),Object(d.jsx)(p.a,{defaultValue:0,min:0,step:1,max:2,marks:[{value:0,label:"Small"},{value:1,label:"Medium"},{value:2,label:"Large"}],className:"col-8",onChange:function(e,n){return t.props.onMapSizeChanged(n)}})]}),Object(d.jsxs)("div",{className:"settings-slider",children:[Object(d.jsx)("h4",{children:"Algorithm"}),Object(d.jsx)(p.a,{min:0,step:1,max:2,marks:[{value:0,label:"Random"},{value:1,label:"Random Grid"},{value:2,label:"Poisson-Disc"}],className:"col-8",onChange:function(e,n){t.props.onAlgorithmChanged(n),t.updateAlgorithmDescription(n)}})]}),Object(d.jsxs)("div",{className:"",children:[Object(d.jsx)("h4",{children:"Animate"}),Object(d.jsx)(v.a,{onChange:function(e,n){return t.props.onIsAnimateChanged(n)}})]}),Object(d.jsx)("hr",{className:"settings-menu"}),Object(d.jsxs)("div",{className:"alg-description",children:[Object(d.jsx)("h6",{children:this.state.algTitle}),e,Object(d.jsx)("div",{children:this.state.algDesc})]})]})}}]),n}(i.Component));g.defaultProps={OnSettingsChanged:null};var f=function(e,t){return Math.random()*(t-e)+e},j=function(e,t,n){for(var i=[],a=0;a<n;a++)i.push([f(0,e),f(0,t)]);return console.log(n+" random points generated"),i},b=function(e,t,n,i,a){e.push(a),t.push(e.length-1),n[Math.floor(a[0]/i)][Math.floor(a[1]/i)]=a},O=function(e,t,n,i){for(var a=[Math.floor(n[0]/t),Math.floor(n[1]/t)],s=[Math.max(0,a[0]-2),Math.max(0,a[1]-2)],r=[Math.min(e.length,a[0]+2),Math.min(e[0].length,a[1]+2)],o=s[0];o<r[0];o++)for(var l=s[1];l<r[1];l++){var c=e[o][l];if(c){var h=c[0]-n[0],d=c[1]-n[1];if(h*h+d*d<=i*i)return!0}}return!1},y=(n(47),"canvas"),k="#2F528F",x=function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).drawInterval=null,e.state={algorithm:0,mapSize:1,isAnimate:!1},e}return Object(l.a)(n,[{key:"getSizeRatio",value:function(e){switch(e){case 0:default:return 10;case 1:return 4;case 2:return 2}}},{key:"generatePoints",value:function(e,t,n){var i=Math.floor(t*n*.05);switch(e){case 1:return function(e,t,n){for(var i=[],a=Math.ceil(e/n),s=Math.ceil(t/n),r=0;r<a;r++)for(var o=0;o<s;o++){var l=[f(r*n,(r+1)*n),f(o*n,(o+1)*n)];(r!=a-1&&o!=s-1||!(l[0]>e||l[1]>t))&&i.push(l)}return console.log(i.length+" points generated with even spacing"),i}(t,n,6);case 2:return function(e,t,n,i){var a=[],s=[],r=n*Math.SQRT1_2,o=Math.ceil(e/r),l=Math.ceil(t/r),c=Array.from(Array(o),(function(){return new Array(l)}));for(b(s,a,c,r,[f(0,e),f(0,t)]);a.length>0;)for(var h=Math.floor(f(0,a.length-1)),d=s[a[h]],u=0;u<i;u++){var m=2*Math.PI*Math.random(),p=f(n,2*n),v=d[0]+p*Math.cos(m),g=d[1]+p*Math.sin(m);if(v>=0&&g>=0&&v<e&&g<t&&!O(c,r,[v,g],n)){b(s,a,c,r,[v,g]);break}u===i-1&&(a[h]=a[a.length-1],a.pop())}return console.log(s.length+" poisson-disc points generated"),s}(t,n,4,10);case 0:default:return j(t,n,i)}}},{key:"drawPointsAnimated",value:function(e,t,n,i,a){var s=this.getSizeRatio(this.props.mapSize),r=t.getContext("2d");r.strokeStyle=k,r.lineWidth=i,r.clearRect(0,0,t.clientWidth,t.clientHeight),clearInterval(this.drawInterval);var o=0,l=this;this.drawInterval=setInterval((function(){if(o>e.length-1)clearInterval(l.drawInterval);else{var a=[e[o][0]*s,e[o][1]*s];l.drawPoint(t,a,n,i),o++}}),a)}},{key:"drawPoints",value:function(e,t,n,i){var a=this.getSizeRatio(this.props.mapSize),s=t.getContext("2d");s.strokeStyle=k,s.lineWidth=i,s.clearRect(0,0,t.clientWidth,t.clientHeight),clearInterval(this.drawInterval);for(var r=0;r<e.length;r++){var o=[e[r][0]*a,e[r][1]*a];this.drawPoint(t,o,n,i)}}},{key:"drawPoint",value:function(e,t,n,i){var a=e.getContext("2d");t[0]-n-i>0&&t[0]+n+i<e.clientWidth&&t[1]-n-i>0&&t[1]+n+i<e.clientHeight&&(a.beginPath(),a.arc(t[0],t[1],n,0,2*Math.PI),a.stroke())}},{key:"componentDidUpdate",value:function(){var e=document.getElementById(y),t=this.getSizeRatio(this.props.mapSize),n=Math.floor(e.clientWidth/t),i=Math.floor(e.clientHeight/t);console.log("mapsize: "+this.props.mapSize+", algo: "+this.props.algorithm+", isAnimate:"+this.props.isAnimate),console.log("Map: "+n+"x"+i);var a=this.generatePoints(this.props.algorithm,n,i);this.props.isAnimate?this.drawPointsAnimated(a,e,.75*t,.5*t,5):this.drawPoints(a,e,.75*t,.5*t)}},{key:"updateCanvasSize",value:function(){var e=document.getElementById(y),t=document.getElementById(y).parentElement;e.width=t.offsetWidth,e.height=t.offsetHeight}},{key:"onWindowResize",value:function(){this.updateCanvasSize(),this.componentDidUpdate()}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",(function(){return e.onWindowResize()})),this.updateCanvasSize(),this.componentDidUpdate()}},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("resize",(function(){return e.onWindowResize()})),clearInterval(this.drawInterval)}},{key:"render",value:function(){var e=this;return Object(d.jsx)("div",{className:"main-alg-element",children:Object(d.jsx)("div",{className:"point-distribution-map",children:Object(d.jsx)("canvas",{id:y,onClick:function(){return e.componentDidUpdate()}})})})}}]),n}(i.Component);x.defaultProps={mapSize:0,algorithm:0};n(48);var w=function(e){Object(c.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(o.a)(this,n),(e=t.call(this)).state={mapSize:0,algorithm:0,isAnimate:!1},e}return Object(l.a)(n,[{key:"onMapSizeChanged",value:function(e){e!=this.state.mapSize&&this.setState({mapSize:e})}},{key:"onAlgorithmChanged",value:function(e){e!=this.state.algorithm&&this.setState({algorithm:e})}},{key:"onIsAnimateChanged",value:function(e){e!=this.state.isAnimate&&this.setState({isAnimate:e})}},{key:"render",value:function(){var e=this;return Object(d.jsxs)("div",{className:"alg-body",children:[Object(d.jsx)(x,{mapSize:this.state.mapSize,algorithm:this.state.algorithm,isAnimate:this.state.isAnimate}),Object(d.jsx)(g,{onMapSizeChanged:function(t){return e.onMapSizeChanged(t)},onAlgorithmChanged:function(t){return e.onAlgorithmChanged(t)},onIsAnimateChanged:function(t){return e.onIsAnimateChanged(t)}})]})}}]),n}(i.Component);n(49),n(50);function S(){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(u,{}),Object(d.jsx)(m,{title:"Algorithms for scattering 2D Points"}),Object(d.jsx)(w,{}),Object(d.jsx)("div",{className:"container-fluid"})]})}r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(S,{})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.81a765b6.chunk.js.map